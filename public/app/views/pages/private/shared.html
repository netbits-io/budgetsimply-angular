
<h1>Shared Expenses</h1>
<br>
<div class="row">
	<div class="col-sm-5">
			<div class="btn-group w100m44p" uib-dropdown>
				<button type="button" class="btn btn-default whiteButton w100p" uib-dropdown-toggle>
					{{shared.sharedwith}}&nbsp;&nbsp;<span class="caret"></span>
				</button>
				<ul uib-dropdown-menu role="menu" aria-labelledby="single-button">
					<li ng-repeat="user in shared.sharedwithlist" role="menuitem"><a ng-click="toggle(user)">{{user}}</a></li>
				</ul>
			</div>
		</div> 
		<div class="col-sm-5">
			<div class="input-group">
				<span class="input-group-btn">
					<button class="btn btn-default whiteButton" type="button" ng-click="shared.perMinus()"><span class="glyphicon glyphicon-chevron-left"></span></button>
				</span>
				<input type="text" class="form-control whiteButton text-center" ng-value="shared.periodLabel">
				<span class="input-group-btn">
					<button class="btn btn-default whiteButton" type="button" ng-click="shared.perToggle()"><span class="glyphicon glyphicon glyphicon-sort"></span></button>
					<button class="btn btn-default whiteButton" type="button" ng-click="shared.perPlus()"><span class="glyphicon glyphicon-chevron-right"></span></button>
				</span>
			</div>
		</div>	
		<div class="col-sm-2 text-right">
		</div>
	</div>
	<hr>
	<table class="table table-striped table-hover">
		<thead>
			<tr>
				<th>Date</th>
				<th>Tags</th>
				<th class="text-right">{{shared.mymail}}</th>
				<th class="text-right">{{shared.sharedwith}}</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="entry in shared.expenses | periodfor:shared.periodString | onlyshared:shared.mymail:shared.sharedwith">
				<td>{{entry.date | date:'yyyy-MM-dd'}}</td>
				<td>
					<span ng-repeat="tag in entry.tags">
						{{tag.text}}
					</span>		
				</td>
				<th class="text-right">{{entry | payedforshared:shared.mymail:shared.sharedwith }}</th>
				<th class="text-right">{{entry | payedforshared:shared.sharedwith:shared.mymail }}</th>
			</tr>
			<tfoot>
				<tr>
					<td>TOTAL</td>
					<td></td>
					<th class="text-right"> {{shared.expenses | periodfor:shared.periodString | onlyshared:shared.mymail:shared.sharedwith | calctotalforshared:shared.mymail:shared.sharedwith }}</th>
					<th class="text-right"> {{shared.expenses | periodfor:shared.periodString | onlyshared:shared.mymail:shared.sharedwith | calctotalforshared:shared.sharedwith:shared.mymail }}</th>
				</tr>
			</tfoot>
		</tbody>
	</table>

