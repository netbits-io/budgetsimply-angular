
<h1>Your Expenses</h1>
<br>
	<div class="row">
		<div class="col-sm-4">
			<div class="input-group">
				<span class="input-group-btn">
					<button class="btn btn-default whiteButton" type="button" ng-click="home.perMinus()"><span class="glyphicon glyphicon-chevron-left"></span></button>
				</span>
				<input type="text" class="form-control whiteButton text-center" ng-value="home.periodLabel">
				<span class="input-group-btn">
					<button class="btn btn-default whiteButton" type="button" ng-click="home.perToggle()"><span class="glyphicon glyphicon glyphicon-sort"></span></button>
					<button class="btn btn-default whiteButton" type="button" ng-click="home.perPlus()"><span class="glyphicon glyphicon-chevron-right"></span></button>
				</span>
			</div>
		</div>	
		<div class="col-sm-4">
			<input type="text" class="form-control whiteButton " ng-model="home.filterText">
		</div>
		<div class="col-sm-2">
			<div class="btn-group">
        		<label class="btn btn-default whiteButton" ng-model="home.radioMode" uib-btn-radio="'my'">My</label>
       		 	<label class="btn btn-default whiteButton" ng-model="home.radioMode" uib-btn-radio="'total'">All</label>
   			</div>
		</div>

		<div class="col-sm-2 text-right">
			<button class="btn btn-default whiteButton" ng-click="home.modalExpense(null)" type="button">Add Expense</button>
		</div>
	</div>
	<hr>
	<table class="table table-striped table-hover">
		<thead>
			<tr>
				<th>Date</th>
				<th>Tags</th>
				<th class="text-right">Amount</th>
				<th width="50"></th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="entry in home.expenses | periodfor:home.periodString | tagsfilter:home.filterText">
				<td>{{entry.date | date:'yyyy-MM-dd'}}</td>
				<td>
					<span ng-repeat="tag in entry.tags">
						{{tag.text}}
					</span>		
				</td>
				<th class="text-right">{{entry | payedfor:home.mymail:home.radioMode}}</th>
				<td class="text-right">
					<div class="btn-group" uib-dropdown >
						<button type="button" class="btn btn-xs btn-default whiteButton " uib-dropdown-toggle>
							<span ng-show="entry.owner === home.mymail" class="glyphicon glyphicon-align-justify"></span>
							<span ng-show="entry.owner != home.mymail" class="glyphicon glyphicon-scale"></span>
						</button>
						<ul uib-dropdown-menu role="menu" aria-labelledby="single-button">
							<li role="menuitem"><a ng-click="home.modalViewExpense(entry)">view</a></li>
							<li role="menuitem" ng-show="entry.owner === home.mymail"><a ng-click="home.modalExpense(entry)">edit</a></li>
							<li role="menuitem" ng-show="entry.owner === home.mymail"><a ng-click="home.deleteExpense(entry._id)">remove</a></li>
						</ul>
					</div>
				</td>
			</tr>
			<tfoot>
				<tr>
					<td>TOTAL</td>
					<td></td>
					<th class="text-right"> {{home.expenses | periodfor:home.periodString | tagsfilter:home.filterText | calctotalfor:home.mymail:home.radioMode }}</th>
					<td></td>
				</tr>
			</tfoot>
		</tbody>
	</table>

