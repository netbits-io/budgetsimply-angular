<div class="row col-md-6 col-md-offset-3">
    <div class="jumbotron">
        <h1>Register</h1>
        <br>

        <div class="alert alert-success" ng-if="main.regSuccess">
            {{main.regSuccess}}
        </div>

        <form name="registerForm" ng-submit="main.doRegister(registerForm.$valid)" ng-if="!main.regSuccess" novalidate>

            <div class="alert alert-danger" ng-if="main.regError">
                {{main.regError}}
            </div>

            <div class="form-group" ng-class="{ 'has-error' : registerForm.email.$invalid && !registerForm.email.$pristine }">
                <label>Email</label>
                <input class="form-control" type="email" name="email" ng-model="main.registerData.email" required/>
                <span ng-show="registerForm.email.$invalid && !registerForm.email.$pristine">invalid email</span>
            </div>

            <div class="form-group" ng-class="{ 'has-error' : registerForm.name.$invalid && !registerForm.name.$pristine }">
                <label>Name</label>
                <input class="form-control" type="text" name="name" ng-model="main.registerData.name" required ng-minlength="8" />
                <span ng-show="registerForm.name.$error.required && registerForm.name.$dirty">required</span>
                <span ng-show="registerForm.name.$error.minlength && registerForm.name.$dirty">must be 8 characters</span>
            </div>

            <div class="form-group" ng-class="{ 'has-error' : registerForm.password.$invalid && !registerForm.password.$pristine }">
                <label>Password</label>
                <input class="form-control" type="password" name="password" ng-model="main.registerData.password" ng-minlength="8" ng-maxlength="20" ng-pattern="/(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z])/" required  />
                <span ng-show="registerForm.password.$error.required && registerForm.password.$dirty">required</span>
                <span ng-show="!registerForm.password.$error.required && (registerForm.password.$error.minlength || registerForm.password.$error.maxlength) && registerForm.password.$dirty">Passwords must be between 8 and 20 characters.</span>
                <span ng-show="!registerForm.password.$error.required && !registerForm.password.$error.minlength && !registerForm.password.$error.maxlength && registerForm.password.$error.pattern && registerForm.password.$dirty">Must contain one lower &amp; uppercase letter, and one non-alpha character (a number or a symbol.)</span>
            </div>

            <div class="form-group" ng-class="{ 'has-error' : registerForm.passwordconfirm.$invalid && !registerForm.passwordconfirm.$pristine }">
                <label for="passwordconfirm">Confirm Password</label>
                <input class="form-control" type="password" name="passwordconfirm" ng-model="main.registerData.passwordconfirm"  password-match="main.registerData.password" required  />
                <span ng-show="registerForm.passwordconfirm.$error.required && registerForm.passwordconfirm.$dirty">Please confirm your password.</span>
                <span ng-show="!registerForm.passwordconfirm.$error.required && registerForm.passwordconfirm.$error.unique && registerForm.passwordconfirm.$dirty">Passwords do not match.</span>
            </div>
            <br>
            <button type="submit" class="btn btn-block btn-primary" ng-class="{ 'disabled' : registerForm.$invalid || main.regProcessing}">
                <span>Register</span>
            </button>
        </form>
    </div>
</div>