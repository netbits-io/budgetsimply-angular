<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>NodeAuth</title>
        
        <!-- FOR ANGULAR ROUTING -->
        <base href="/">

        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
        
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

        <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular.min.js"></script>
        <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular-route.js"></script>
        <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular-animate.js"></script>
        
        <!-- controllers -->
        <script src="app/controllers/mainCtrl.js"></script>
        <script src="app/controllers/userCtrl.js"></script>
        <script src="app/controllers/homeCtrl.js"></script>
        <script src="app/controllers/meCtrl.js"></script>
        <!-- services -->
        <script src="app/services/authService.js"></script>
        <script src="app/services/userService.js"></script>
        <!-- main Angular app files -->
        <script src="app/app.routes.js"></script>
        <script src="app/app.js"></script>
    </head>
    <body ng-app="userApp" ng-controller="mainController as main">
        <!-- NAVBAR -->
        <header>
            <div class="navbar navbar-inverse" >
                <div class="container">
                    <div class="navbar-header">
                        <a href="/" class="navbar-brand">NodeAuth</a>
                    </div>	
                    <ul class="nav navbar-nav" ng-if="main.loggedIn">
                        <li><a href="/home"><span class="glyphicon glyphicon-home"></span> Home</a></li>
                    </ul>
                    <ul class="nav navbar-nav" ng-if="main.user.admin">
                        <li><a href="/users"><span class="glyphicon glyphicon-user"></span> Users</a></li>
                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                        <li ng-if="!main.loggedIn"><a href="/register">Register</a></li>
                        <li ng-if="!main.loggedIn"><a href="/login">Login</a></li>
                        <li ng-if="main.loggedIn" class="navbar-text">Hello {{ main.user.email}}!</li>
                        <li ng-if="main.loggedIn"><a href="/me">Account</a></li>
                        <li ng-if="main.loggedIn"><a href="#" ng-click="main.doLogout()">Logout</a></li>
                    </ul>
                </div>
            </div>
        </header>
        <main class="container">
            <!-- ANGULAR VIEWS -->
            <div ng-view></div>
        </main>
<!--        <div>
            {{main.loggedIn}}
        </div>
        <div>
            {{main.user}}
        </div>
        <div>
            {{main.user.admin}}
        </div>-->
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-70421592-3', 'auto');
            ga('send', 'pageview');
        </script>
    </body>
</html>